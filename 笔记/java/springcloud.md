
eureka 注册中心
    1.调用大致流程
        eureka分为客户端和服务端 --> 客户端又可以分为 提供者 和 消费者
        1.1 提供者注册到eureka服务端中 (消费者可以不注册)
        1.2 消费者根据提供者的服务名称去服务端拉取服务信息 (缓存到本地 默认30s会去服务端更新信息)
        1.3 然后根据信息去调用服务  调用方式有：httpClient RestTemplate ribbon openFeign
    2.心跳机制
        2.1 Eureka客户端 默认每隔30s会给服务端发送一次心跳
        2.2 如果服务端 默认90s没有接收到 某个服务的心跳 会认为这个服务挂了 然后会移除这个服务的实例
    3.自我保护
        3.1 如果在15分钟内超过85%的客户端节点都没有正常的心跳,Eureka会认为出现了网络故障,自动进入保护机制
        3.2 eureka server 不在从注册列表移除服务
        3.3 eureka server 不会把信息同步到其他节点上,等网络稳定时,才会开始同步信息


ribbon 客户端的负载均衡  httpclient
    1.大致流程
        以eureka为例,消费者根据服务名称 去注册中心拉取服务(多个,缓存在本地) 然后在根据某种算法来决定调用某个服务
    2.负载均衡算法
        2.1 RoundRobinRule 轮询
        2.2 RandomRule 随机
        2.3 RetryRule 先按照轮询的方式,出错了 会发起重试
        2.4 WeightedResponseTimeRule 先按照轮询的方式,然后根据响应速度 来决定权重
        ......

Hystrix
    Hystrix是一个用于处理分布式系统的延迟和容错的开源库, 可以保证在一个服务处问题的情况下, 不会导致整体服务失败 避免级联故障
    1.降级
        出现情况
        程序运行异常、超时、服务熔断触发服务降级、线程池/信号量满了也会触发服务降级
    2.熔断
        熔断器有三个状态  closed(关闭) half-open(半开) open(全开)
        正常情况下 熔断器为closed状态,当一段时间内调用某个接口的次数超过设定的阈值并且失败次数达到一定比例,就会打开熔断机制 closed-->open
        这个时候任何调用这个服务接口的都会直接走本地降级方法, 一段时间后(窗口期|时间窗口), 熔断器会从 open-->half-open , 这个时候调用这个
        服务接口就会发起远程调用, 如果成功熔断器关闭 half-open-->closed ,失败的话又回到打开状态 half-open-->open
    3.
        
openFeign
    ......
    2.日志
        2.1 NONE: 默认的,不显示任何日志
        2.2 BASIC: 仅记录请求方法、URL、响应状态码及执行时间
        2.3 HEADERS: 除了BASIC中记录的信息之外,还有请求和响应头信息
        2.4 FULL: 除了HEADERS中记录的信息之外,还有请求和响应的正文及元数据
        